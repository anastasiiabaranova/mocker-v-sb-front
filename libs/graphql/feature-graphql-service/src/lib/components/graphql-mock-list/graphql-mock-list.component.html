<div class="header">
	<div class="tui-text_body-l">Моки</div>
	<button
		tuiIconButton
		type="button"
		icon="tuiIconPlus"
		appearance="flat"
		size="s"
		(click)="createMock.next()"></button>
	<!-- <button
		*ngIf="mocks && mocks.length"
		tuiButton
		type="button"
		appearance="flat"
		size="s">
		Удалить все
	</button> -->
</div>

<div class="mock-list">
	<table tuiTable class="table" [columns]="columns">
		<thead>
			<tr tuiThGroup>
				<th tuiTh>Имя</th>
				<th tuiTh>Время удаления</th>
				<th tuiTh>Состояние</th>
				<th tuiTh></th>
			</tr>
		</thead>
		<tbody *ngIf="mocks" tuiTbody [data]="mocks">
			<tr *ngFor="let mock of displayedMocks" tuiTr>
				<td *tuiCell="'name'" tuiTd>
					{{ mock.name }}
				</td>
				<td *tuiCell="'expirationDate'" tuiTd>
					{{ mock.expirationDate | tuiMapper : getDateTime }}
				</td>
				<td *tuiCell="'enable'" tuiTd>
					<div class="enablement">
						<tui-toggle [ngModel]="mock.enable"></tui-toggle>
						<span>{{ mock.enable | tuiMapper : getEnabled }}</span>
					</div>
				</td>
				<td *tuiCell="'actions'" tuiTd>
					<div class="mock-actions">
						<button
							tuiIconButton
							type="button"
							icon="tuiIconEdit3"
							appearance="icon"
							size="xs"
							(click)="editMock.next(mock)"></button>
						<button
							tuiIconButton
							type="button"
							icon="tuiIconTrash"
							appearance="icon"
							size="xs"
							(click)="deleteMock.next(mock)"></button>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
	<div *ngIf="mocks && !mocks.length" class="no-mocks tui-text_h6">
		Здесь пока нет моков
	</div>
	<tui-table-pagination
		*ngIf="mocks && mocks.length"
		class="pagination"
		[total]="mocks.length"
		[items]="sizeOptions"
		[(page)]="page"
		[(size)]="size"
		(paginationChange)="updateDisplayedMocks()"></tui-table-pagination>

	<div *ngIf="!mocks" class="skeleton">
		<div class="tui-skeleton"></div>
		<div class="tui-skeleton tui-skeleton_short tui-space_top-1"></div>
		<div class="tui-skeleton tui-space_top-1"></div>
		<div class="tui-skeleton tui-space_top-1"></div>
	</div>
</div>
